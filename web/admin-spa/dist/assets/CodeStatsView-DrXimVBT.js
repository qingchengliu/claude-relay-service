import{c as z,x as l,y as r,z as e,L as x,P as i,C as m,r as f,o as st,q as at,V as ot,O as w,Q as A,ac as K,Y as Me,K as C,aq as Re,al as j,aV as lt,R as pe,D as q}from"./vue-vendor-Bsazo-x0.js";import{C as Z,r as rt}from"./chart-IRfWaWEH.js";import{_ as Ue,s as y}from"./index-DS_dCqmz.js";import"./vendor-Dr8jvgFu.js";import"./element-plus-CqiD73Lu.js";const nt={class:"stat-card"},it={class:"flex items-start justify-between"},dt={class:"flex-1"},ut={class:"mb-1 text-xs font-medium text-gray-600 dark:text-gray-400 sm:text-sm"},ct={class:"text-2xl font-bold text-gray-800 dark:text-gray-100 sm:text-3xl"},gt={key:0,class:"mt-1.5 text-xs text-gray-500 dark:text-gray-400 sm:mt-2 sm:text-sm"},ft={__name:"StatCard",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},subtitle:{type:String,default:""},icon:{type:String,required:!0},iconColor:{type:String,default:"primary"}},setup(I){const O=I,T=z(()=>{const S={primary:"bg-gradient-to-br from-blue-500 to-purple-500",success:"bg-gradient-to-br from-green-500 to-emerald-500",warning:"bg-gradient-to-br from-yellow-500 to-orange-500",danger:"bg-gradient-to-br from-red-500 to-pink-500",info:"bg-gradient-to-br from-cyan-500 to-blue-500"};return S[O.iconColor]||S.primary});return(S,Q)=>(r(),l("div",nt,[e("div",it,[e("div",dt,[e("p",ut,i(I.title),1),e("p",ct,i(I.value),1),I.subtitle?(r(),l("p",gt,i(I.subtitle),1)):x("",!0)]),e("div",{class:m(["stat-icon flex-shrink-0",T.value])},[e("i",{class:m([I.icon,"text-sm sm:text-base"])},null,2)],2)])]))}},be=Ue(ft,[["__scopeId","data-v-ff039709"]]),xt={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6"},vt={class:"mx-auto max-w-7xl"},yt={class:"mb-8 flex items-center justify-between"},mt=["disabled"],pt={class:"mb-8"},bt={class:"border-b border-gray-200"},ht={class:"-mb-px flex space-x-8"},wt={key:0},_t={class:"mb-6 flex justify-end"},kt={class:"flex items-center gap-2"},Ct={class:"flex rounded-lg border border-gray-200 bg-white"},Tt=["onClick"],Dt={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},$t={class:"space-y-4"},Et={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-5"},jt={class:"rounded-lg bg-white p-4 shadow-lg"},St={class:"flex items-center justify-center"},Lt={class:"flex-1 text-center"},Ft={class:"mb-2 text-xs font-semibold text-gray-600 sm:text-sm"},Pt={class:"text-xl font-bold text-blue-600 sm:text-2xl md:text-3xl"},It={class:"rounded-lg bg-white p-4 shadow-lg"},Ot={class:"flex items-center justify-center"},Nt={class:"flex-1 text-center"},Mt={class:"mb-2 text-xs font-semibold text-gray-600 sm:text-sm"},Rt={class:"text-xl font-bold text-purple-600 sm:text-2xl md:text-3xl"},Ut={class:"rounded-lg bg-white p-4 shadow-lg"},At={class:"flex items-center justify-center"},qt={class:"flex-1 text-center"},zt={class:"mb-2 text-xs font-semibold text-gray-600 sm:text-sm"},Vt={class:"text-xl font-bold text-orange-600 sm:text-2xl md:text-3xl"},Bt={class:"rounded-lg bg-white p-4 shadow-lg"},Wt={class:"flex items-center justify-center"},Gt={class:"flex-1 text-center"},Ht={class:"mb-2 text-xs font-semibold text-gray-600 sm:text-sm"},Kt={class:"text-xl font-bold text-emerald-600 sm:text-2xl md:text-3xl"},Zt={class:"rounded-lg bg-white p-4 shadow-lg"},Qt={class:"flex items-center justify-center"},Yt={class:"flex-1 text-center"},Jt={class:"mb-2 text-xs font-semibold text-gray-600 sm:text-sm"},Xt={class:"text-xl font-bold text-indigo-600 sm:text-2xl md:text-3xl"},es={class:"text-sm font-medium text-green-600"},ts={class:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},ss={class:"rounded-lg bg-white p-6 shadow-lg"},as={class:"relative h-64 w-full"},os={class:"rounded-lg bg-white p-6 shadow-lg"},ls={class:"relative h-64 w-full"},rs={class:"rounded-lg bg-white p-6 shadow-lg"},ns={class:"mb-4 flex items-center justify-between"},is={class:"text-lg font-semibold text-gray-900"},ds={class:"relative"},us={key:0,class:"column-selector absolute right-0 z-10 mt-2 w-48 rounded-lg bg-white p-4 shadow-lg ring-1 ring-black ring-opacity-5"},cs={class:"space-y-2"},gs={class:"flex items-center"},fs={class:"flex items-center"},xs={class:"flex items-center"},vs={class:"flex items-center"},ys={class:"flex items-center"},ms={class:"flex items-center"},ps={class:"flex items-center"},bs={class:"flex items-center"},hs={key:0,class:"flex items-center"},ws={class:"overflow-hidden rounded-lg border border-gray-200"},_s={class:"min-w-full divide-y divide-gray-200"},ks={class:"bg-gray-50"},Cs={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Ts={key:1,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Ds={class:"flex items-center"},$s={class:"ml-1"},Es={key:1,class:"fas fa-sort text-xs text-gray-400"},js={class:"flex items-center"},Ss={class:"ml-1"},Ls={key:1,class:"fas fa-sort text-xs text-gray-400"},Fs={class:"flex items-center"},Ps={class:"ml-1"},Is={key:1,class:"fas fa-sort text-xs text-gray-400"},Os={class:"flex items-center"},Ns={class:"ml-1"},Ms={key:1,class:"fas fa-sort text-xs text-gray-400"},Rs={class:"flex items-center"},Us={class:"ml-1"},As={key:1,class:"fas fa-sort text-xs text-gray-400"},qs={class:"flex items-center"},zs={class:"ml-1"},Vs={key:1,class:"fas fa-sort text-xs text-gray-400"},Bs={class:"flex items-center"},Ws={class:"ml-1"},Gs={key:1,class:"fas fa-sort text-xs text-gray-400"},Hs={class:"divide-y divide-gray-200 bg-white"},Ks={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Zs={key:1,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Qs={key:2,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Ys={key:3,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Js={key:4,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Xs={key:5,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},ea={key:6,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},ta={key:7,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},sa={key:8,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},aa={key:0,class:"mt-4 flex items-center justify-between border-t border-gray-200 px-6 py-3"},oa={class:"flex flex-1 items-center justify-between"},la={class:"flex items-center gap-2"},ra={class:"flex items-center gap-4"},na={class:"hidden sm:block"},ia={class:"text-sm text-gray-700"},da={class:"font-medium"},ua={class:"font-medium"},ca={class:"font-medium"},ga={key:0},fa={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"åˆ†é¡µ"},xa=["disabled"],va=["onClick"],ya={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300"},ma=["disabled"],pa={class:"flex flex-1 justify-between sm:hidden"},ba=["disabled"],ha=["disabled"],wa={key:1},_a={class:"mb-6 flex justify-end"},ka={class:"flex items-center gap-2"},Ca={class:"flex rounded-lg border border-gray-200 bg-white"},Ta=["onClick"],Da={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},$a={class:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},Ea={class:"rounded-lg bg-white p-6 shadow-lg"},ja={class:"relative h-64 w-full"},Sa={class:"rounded-lg bg-white p-6 shadow-lg"},La={class:"relative h-64 w-full"},Fa={class:"rounded-lg bg-white p-6 shadow-lg"},Pa={class:"mb-4 text-lg font-semibold text-gray-900"},Ia={class:"overflow-hidden rounded-lg border border-gray-200"},Oa={class:"min-w-full divide-y divide-gray-200"},Na={class:"divide-y divide-gray-200 bg-white"},Ma={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Ra={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Ua={class:"inline-flex items-center gap-2"},Aa={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},qa={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},za={__name:"CodeStatsView",setup(I){Z.register(...rt);const O=f(!0),T=f("overview"),S=f(null),Q=f([]),he=f({}),Y=f([]),d=f({rank:!0,userName:!0,totalEditedLines:!0,totalTestLines:!0,totalNewFiles:!0,totalModifiedFiles:!0,totalRequests:!0,totalCost:!0,activeDays:!0}),J=f(!1),E=f({}),we=f([]),Ae=f([]),re=f({todayRequests:0,todayInputTokens:0,todayOutputTokens:0,todayCacheCreateTokens:0,todayCacheReadTokens:0}),_e=f(0),b=f("today"),N=f("today"),p=f({startDate:"",endDate:""}),X=f(!1),ke=[{value:"today",label:"å½“å¤©"},{value:"7",label:"è¿‘7å¤©"},{value:"month",label:"å½“æœˆ"},{value:"30",label:"è¿‘30å¤©"},{value:"custom",label:"è‡ªå®šä¹‰"}],h=f(1),L=f(10),$=f("totalEditedLines"),D=f("desc"),V=f(0),Ce=f(0);z(()=>Q.value);const qe=z(()=>Q.value),B=z(()=>Ce.value||Math.ceil(V.value/L.value)),W=z(()=>h.value>1),G=z(()=>h.value<B.value),ee=f(null),te=f(null),se=f(null),ae=f(null);let ne=null,ie=null,de=null,ue=null;async function ce(){try{const s=R(b.value),t=await fetch(`/admin/code-stats/system?${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!t.ok)throw new Error("Failed to fetch system stats");const a=await t.json();a.success&&(S.value=Be(a.data),Y.value=a.data.daily||[])}catch(s){console.error("Error fetching system stats:",s),y("èŽ·å–ç³»ç»Ÿç»Ÿè®¡å¤±è´¥","error")}}async function F(){try{const s=R(b.value),t=`page=${h.value}&limit=${L.value}`,a=`sortBy=${$.value}&sortOrder=${D.value}`,n=await fetch(`/admin/code-stats/leaderboard?${s}&${t}&${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!n.ok)throw new Error("Failed to fetch leaderboard");const u=await n.json();u.success&&(Q.value=u.data||[],u.pagination&&(V.value=u.pagination.total,Ce.value=u.pagination.totalPages))}catch(s){console.error("Error fetching leaderboard:",s),y("èŽ·å–æŽ’è¡Œæ¦œå¤±è´¥","error")}}async function ge(){try{const s=R(b.value),t=await fetch(`/admin/code-stats/languages?${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!t.ok)throw new Error("Failed to fetch language stats");const a=await t.json();a.success&&(he.value=a.data||{})}catch(s){console.error("Error fetching language stats:",s),y("èŽ·å–è¯­è¨€ç»Ÿè®¡å¤±è´¥","error")}}async function Te(){try{const s=R(N.value),t=await fetch(`/admin/code-stats/tools?${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!t.ok)throw new Error("Failed to fetch tool stats");const a=await t.json();a.success&&(E.value=We(a.data),Ae.value=a.data.daily||[])}catch(s){console.error("Error fetching tool stats:",s),y("èŽ·å–å·¥å…·ç»Ÿè®¡å¤±è´¥","error")}}async function De(){try{const s=R(N.value),t=await fetch(`/admin/code-stats/tools/ranking?limit=10&${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!t.ok)throw new Error("Failed to fetch tool ranking");const a=await t.json();a.success&&(we.value=a.data||[])}catch(s){console.error("Error fetching tool ranking:",s),y("èŽ·å–å·¥å…·æŽ’è¡Œæ¦œå¤±è´¥","error")}}async function fe(){var s;try{const t=R(b.value),a=await fetch(`/admin/code-stats/active-users?${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!a.ok)throw new Error("Failed to fetch active users");const n=await a.json();n.success&&(_e.value=((s=n.data)==null?void 0:s.activeUsers)||0)}catch(t){console.error("Error fetching active users:",t),y("èŽ·å–æ´»è·ƒäººæ•°å¤±è´¥","error")}}async function xe(){var s,t;try{let a="today",n="";if(b.value==="custom"&&p.value.startDate&&p.value.endDate)a="custom",n=`period=${a}&startDate=${p.value.startDate}&endDate=${p.value.endDate}`;else{switch(b.value){case"today":a="today";break;case"7":a="7days";break;case"month":a="monthly";break;case"30":a="30days";break;default:a="today"}n=`period=${a}`}const u=await fetch(`/admin/usage-costs?${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!u.ok)throw new Error("Failed to fetch usage costs");const g=await u.json();if(g.success){let c=0,v=0,_=0,o=0,k=0,me=0;g.data.modelCosts&&Array.isArray(g.data.modelCosts)&&g.data.modelCosts.forEach(Oe=>{const Ne=Oe.requests||0,P=Oe.usage||{},et=(P.input_tokens||0)>0||(P.output_tokens||0)>0;if(Ne===0&&et){const tt=(P.input_tokens||0)+(P.output_tokens||0);c+=Math.max(1,Math.ceil(tt/1500))}else c+=Ne;_+=P.input_tokens||0,o+=P.output_tokens||0,k+=P.cache_creation_input_tokens||0,me+=P.cache_read_input_tokens||0}),v=_+o+k+me,re.value={todayRequests:c,todayTokens:v,inputTokens:_,outputTokens:o,cacheCreateTokens:k,cacheReadTokens:me,totalCost:((t=(s=g.data.totalCosts)==null?void 0:s.formatted)==null?void 0:t.totalCost)||"$0.00"}}}catch(a){console.error("Error fetching usage costs:",a),y("èŽ·å–ä½¿ç”¨ç»Ÿè®¡å¤±è´¥","error")}}function R(s){switch(s){case"today":return"days=1";case"7":return"days=7";case"month":return"month=current";case"30":return"days=30";case"custom":return p.value.startDate&&p.value.endDate?`startDate=${p.value.startDate}&endDate=${p.value.endDate}`:"days=7";case"all":return"all=true";default:return"days=7"}}async function ze(s){if(b.value=s,s==="custom"){if(X.value=!0,!p.value.startDate||!p.value.endDate){const t=new Date,a=new Date(t);a.setDate(a.getDate()-7),p.value.endDate=t.toISOString().split("T")[0],p.value.startDate=a.toISOString().split("T")[0]}return}y("æ­£åœ¨åˆ‡æ¢æ—¶é—´æ®µ...","info");try{await Promise.all([ce(),ge(),F(),xe(),fe()]),await q(),oe(),le(),y("æ—¶é—´æ®µåˆ‡æ¢æˆåŠŸï¼","success")}catch(t){console.error("Error changing overview time period:",t),y("æ—¶é—´æ®µåˆ‡æ¢å¤±è´¥","error")}}async function Ve(s){N.value=s,y("æ­£åœ¨åˆ‡æ¢æ—¶é—´æ®µ...","info");try{await Promise.all([Te(),De()]),await q(),ve(),ye(),y("æ—¶é—´æ®µåˆ‡æ¢æˆåŠŸï¼","success")}catch(t){console.error("Error changing tools time period:",t),y("æ—¶é—´æ®µåˆ‡æ¢å¤±è´¥","error")}}function U(s){return`${{today:"å½“å¤©",7:"è¿‘7å¤©",month:"å½“æœˆ",30:"è¿‘30å¤©"}[b.value]||"å½“å¤©"}${s}`}function $e(s){return`${{today:"å½“å¤©",7:"è¿‘7å¤©",month:"å½“æœˆ",30:"è¿‘30å¤©"}[N.value]||"å½“å¤©"}${s}`}function Be(s){var g;let t=0,a=0,n=0,u=0;if(b.value==="today"){const c=new Date().toISOString().split("T")[0],v=((g=s.daily)==null?void 0:g.find(_=>_.date===c))||{};t=parseInt(v.totalEditedLines||0),a=parseInt(v.totalEditOperations||0),n=parseInt(v.totalNewFiles||0),u=parseInt(v.totalModifiedFiles||0)}else b.value==="all"?s.daily&&Array.isArray(s.daily)&&s.daily.forEach(c=>{t+=parseInt(c.totalEditedLines||0),a+=parseInt(c.totalEditOperations||0),n+=parseInt(c.totalNewFiles||0),u+=parseInt(c.totalModifiedFiles||0)}):s.daily&&Array.isArray(s.daily)&&s.daily.forEach(c=>{t+=parseInt(c.totalEditedLines||0),a+=parseInt(c.totalEditOperations||0),n+=parseInt(c.totalNewFiles||0),u+=parseInt(c.totalModifiedFiles||0)});return{periodLines:t,periodOperations:a,periodNewFiles:n,periodModifiedFiles:u}}function We(s){var n;const t={...s};let a=0;if(N.value==="today"){const u=new Date().toISOString().split("T")[0],g=((n=s.daily)==null?void 0:n[u])||{};Object.values(g).forEach(c=>{typeof c=="object"&&c!==null&&c.count&&(a+=c.count)})}else N.value==="all"?Object.values(s.tools||{}).forEach(u=>{u.totalCount&&(a+=u.totalCount)}):Object.values(s.daily||{}).forEach(u=>{Object.values(u).forEach(g=>{typeof g=="object"&&g!==null&&g.count&&(a+=g.count)})});return t.periodToolCalls=a,t}function oe(){if(!ee.value||!ee.value.offsetParent)return;ne&&ne.destroy();const s=ee.value.getContext("2d"),t=Y.value.map(u=>u.date).reverse(),a=Y.value.map(u=>parseInt(u.totalEditedLines||0)).reverse(),n=Y.value.map(u=>parseInt(u.totalEditOperations||0)).reverse();ne=new Z(s,{type:"line",data:{labels:t,datasets:[{label:"ç¼–è¾‘è¡Œæ•°",data:a,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.1},{label:"æ“ä½œæ¬¡æ•°",data:n,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}function le(){if(!te.value||!te.value.offsetParent)return;ie&&ie.destroy();const s=te.value.getContext("2d"),t=Object.entries(he.value).map(([g,c])=>({language:g,lines:c.lines||0})).sort((g,c)=>c.lines-g.lines),a=t.map(g=>g.language),n=t.map(g=>g.lines),u=["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(139, 92, 246)","rgb(245, 101, 101)","rgb(251, 191, 36)","rgb(168, 85, 247)","rgb(34, 197, 94)","rgb(239, 68, 68)"];ie=new Z(s,{type:"doughnut",data:{labels:a,datasets:[{data:n,backgroundColor:u.slice(0,a.length),borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})}function ve(){if(!se.value||!se.value.offsetParent)return;de&&de.destroy();const s=se.value.getContext("2d"),t=Object.keys(E.value.daily||{}).reverse(),a=t.map(n=>{const u=E.value.daily[n]||{};return Object.values(u).reduce((g,c)=>g+(c.count||0),0)});de=new Z(s,{type:"line",data:{labels:t,datasets:[{label:"å·¥å…·è°ƒç”¨æ¬¡æ•°",data:a,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}function ye(){if(!ae.value||!ae.value.offsetParent)return;ue&&ue.destroy();const s=ae.value.getContext("2d"),t=E.value.tools||{},a=Object.fromEntries(Object.entries(t).filter(([v])=>v!=="Unknown"&&v!=="undefined")),n=Object.entries(a).map(([v,_])=>({tool:v,count:_.totalCount||0})).sort((v,_)=>_.count-v.count),u=n.map(v=>v.tool),g=n.map(v=>v.count),c=["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(139, 92, 246)","rgb(245, 101, 101)","rgb(251, 191, 36)","rgb(168, 85, 247)","rgb(34, 197, 94)","rgb(239, 68, 68)"];ue=new Z(s,{type:"doughnut",data:{labels:u,datasets:[{data:g,backgroundColor:c.slice(0,u.length),borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})}function Ee(s){return s===0?"bg-yellow-500 text-white":s===1?"bg-gray-400 text-white":s===2?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700"}async function Ge(){y("æ­£åœ¨åˆ·æ–°ç»Ÿè®¡æ•°æ®...","info"),await je(),await q(),oe(),le(),ve(),ye(),y("ç»Ÿè®¡æ•°æ®åˆ·æ–°æˆåŠŸï¼","success")}async function je(){O.value=!0;try{await Promise.all([ce(),F(),ge(),Te(),De(),xe(),fe()]),await q(),Fe()}catch(s){console.error("Error initializing data:",s),y("åˆå§‹åŒ–æ•°æ®å¤±è´¥","error")}finally{O.value=!1}}function He(s){s>=1&&s<=B.value&&(h.value=s,F())}function Se(){W.value&&(h.value--,F())}function Le(){G.value&&(h.value++,F())}function M(s){$.value===s?D.value=D.value==="desc"?"asc":"desc":($.value=s,D.value="desc"),h.value=1,F()}function Ke(){h.value=1,F()}function Ze(){const s=B.value,t=h.value,a=[];if(s<=7)for(let n=1;n<=s;n++)a.push(n);else if(t<=4){for(let n=1;n<=5;n++)a.push(n);a.push("..."),a.push(s)}else if(t>=s-3){a.push(1),a.push("...");for(let n=s-4;n<=s;n++)a.push(n)}else{a.push(1),a.push("...");for(let n=t-1;n<=t+1;n++)a.push(n);a.push("..."),a.push(s)}return a}function Qe(){if(!E.value.tools||Object.keys(E.value.tools).length===0)return"-";let s="",t=0;return Object.entries(E.value.tools).forEach(([a,n])=>{a!=="Unknown"&&a!=="undefined"&&n.totalCount>t&&(t=n.totalCount,s=a)}),s||"-"}function Ye(s){return{Edit:"âœï¸",Write:"ðŸ“",Read:"ðŸ“–",Bash:"ðŸ’»",Grep:"ðŸ”",Glob:"ðŸŒ",MultiEdit:"ðŸ“‘",NotebookEdit:"ðŸ““",LS:"ðŸ“",Task:"âš¡",WebFetch:"ðŸŒ",TodoWrite:"âœ…"}[s]||"ðŸ”§"}function H(s){return!s&&s!==0?"0":s.toLocaleString("zh-CN")}function Je(s){return!s||s===0?"0":s>=1e6?(s/1e6).toFixed(2)+"M":s>=1e3?(s/1e3).toFixed(2)+"K":s.toString()}function Fe(){T.value==="overview"?(oe(),le()):T.value==="tools"&&(ve(),ye())}async function Xe(){if(!p.value.startDate||!p.value.endDate){y("è¯·é€‰æ‹©å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ","error");return}const s=new Date(p.value.startDate),t=new Date(p.value.endDate);if(s>t){y("å¼€å§‹æ—¥æœŸä¸èƒ½æ™šäºŽç»“æŸæ—¥æœŸ","error");return}X.value=!1,y("æ­£åœ¨åˆ‡æ¢æ—¶é—´æ®µ...","info");try{await Promise.all([ce(),ge(),F(),xe(),fe()]),await q(),oe(),le(),y("æ—¶é—´æ®µåˆ‡æ¢æˆåŠŸï¼","success")}catch(a){console.error("Error applying custom date range:",a),y("æ—¶é—´æ®µåˆ‡æ¢å¤±è´¥","error")}}function Pe(){X.value=!1,b.value="7"}st(T,async s=>{await q(),Fe()});function Ie(s){var a,n;if((n=(a=s.target.closest("button"))==null?void 0:a.innerText)!=null&&n.includes("åˆ—è®¾ç½®"))return;const t=document.querySelector(".column-selector");t&&!t.contains(s.target)&&(J.value=!1)}return at(()=>{je(),document.addEventListener("click",Ie)}),ot(()=>{document.removeEventListener("click",Ie)}),(s,t)=>{var a,n,u,g,c,v,_;return r(),l("div",xt,[e("div",vt,[e("div",yt,[t[22]||(t[22]=e("div",null,[e("h1",{class:"mb-2 text-3xl font-bold text-gray-900"},"ðŸ“Š ä»£ç ç»Ÿè®¡åˆ†æž"),e("p",{class:"text-gray-600"},"è¿½è¸ª Claude ä»£ç ç¼–è¾‘æ“ä½œçš„è¯¦ç»†ç»Ÿè®¡æ•°æ®")],-1)),e("button",{class:"flex items-center gap-2 rounded-lg bg-blue-500 px-4 py-2 text-white transition-colors hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-400",disabled:O.value,onClick:Ge},[e("i",{class:m(["fas",O.value?"fa-spinner fa-spin":"fa-sync-alt"])},null,2),w(" "+i(O.value?"åˆ·æ–°ä¸­...":"åˆ·æ–°æ•°æ®"),1)],8,mt)]),e("div",pt,[e("div",bt,[e("nav",ht,[e("button",{class:m(["whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium",T.value==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"]),onClick:t[0]||(t[0]=o=>T.value="overview")}," ðŸ“ˆ å…¨å±€ç»Ÿè®¡æ¦‚è§ˆ ",2),e("button",{class:m(["whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium",T.value==="tools"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"]),onClick:t[1]||(t[1]=o=>T.value="tools")}," ðŸ”§ å·¥å…·è°ƒç”¨ç»Ÿè®¡ ",2)])])]),T.value==="overview"?(r(),l("div",wt,[e("div",_t,[e("div",kt,[t[23]||(t[23]=e("span",{class:"text-sm font-medium text-gray-700"},"ç»Ÿè®¡æ—¶é—´æ®µï¼š",-1)),e("div",Ct,[(r(),l(A,null,K(ke,o=>e("button",{key:o.value,onClick:k=>ze(o.value),class:m(["px-3 py-1.5 text-sm font-medium transition-all duration-200 first:rounded-l-lg last:rounded-r-lg",b.value===o.value?"bg-blue-500 text-white shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},i(o.label),11,Tt)),64))])])]),X.value?(r(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:Me(Pe,["self"])},[e("div",Dt,[t[26]||(t[26]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"é€‰æ‹©æ—¥æœŸèŒƒå›´",-1)),e("div",$t,[e("div",null,[t[24]||(t[24]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"å¼€å§‹æ—¥æœŸ",-1)),C(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=o=>p.value.startDate=o),class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[Re,p.value.startDate]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"ç»“æŸæ—¥æœŸ",-1)),C(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=o=>p.value.endDate=o),class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[Re,p.value.endDate]])])]),e("div",{class:"mt-6 flex justify-end gap-3"},[e("button",{onClick:Pe,class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," å–æ¶ˆ "),e("button",{onClick:Xe,class:"rounded-md bg-blue-500 px-4 py-2 text-sm font-medium text-white hover:bg-blue-600"}," åº”ç”¨ ")])])])):x("",!0),e("div",Et,[e("div",jt,[e("div",St,[e("div",Lt,[e("p",Ft,i(U("ç¼–è¾‘è¡Œæ•°")),1),e("p",Pt,i(H(((a=S.value)==null?void 0:a.periodLines)||0)),1)]),t[27]||(t[27]=e("div",{class:"flex items-center justify-center",style:{width:"25%"}},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 text-white"},[e("i",{class:"fas fa-edit text-xl"})])],-1))])]),e("div",It,[e("div",Ot,[e("div",Nt,[e("p",Mt,i(U("åˆ›å»ºæ–‡ä»¶æ¬¡æ•°")),1),e("p",Rt,i(H(((n=S.value)==null?void 0:n.periodNewFiles)||0)),1)]),t[28]||(t[28]=e("div",{class:"flex items-center justify-center",style:{width:"25%"}},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 text-white"},[e("i",{class:"fas fa-file-plus text-xl"})])],-1))])]),e("div",Ut,[e("div",At,[e("div",qt,[e("p",zt,i(U("ä¿®æ”¹æ–‡ä»¶æ¬¡æ•°")),1),e("p",Vt,i(H(((u=S.value)==null?void 0:u.periodModifiedFiles)||0)),1)]),t[29]||(t[29]=e("div",{class:"flex items-center justify-center",style:{width:"25%"}},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 text-white"},[e("i",{class:"fas fa-file-edit text-xl"})])],-1))])]),e("div",Bt,[e("div",Wt,[e("div",Gt,[e("p",Ht,i(U("æ´»è·ƒäººæ•°")),1),e("p",Kt,i(H(_e.value||0)),1)]),t[30]||(t[30]=e("div",{class:"flex items-center justify-center",style:{width:"25%"}},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 text-white"},[e("i",{class:"fas fa-users text-xl"})])],-1))])]),e("div",Zt,[e("div",Qt,[e("div",Yt,[e("p",Jt,i(U("Token")),1),e("p",Xt,i(Je(((g=re.value)==null?void 0:g.todayTokens)||0)),1),e("p",es,i(((c=re.value)==null?void 0:c.totalCost)||"$0.00"),1)]),t[31]||(t[31]=e("div",{class:"flex items-center justify-center",style:{width:"25%"}},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 text-white"},[e("i",{class:"fas fa-coins text-xl"})])],-1))])])]),e("div",ts,[e("div",ss,[t[32]||(t[32]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"ðŸ“ˆ ç¼–è¾‘è¶‹åŠ¿",-1)),e("div",as,[e("canvas",{ref_key:"trendChart",ref:ee,class:"absolute inset-0 h-full w-full"},null,512)])]),e("div",os,[t[33]||(t[33]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"ðŸŒ ç¼–ç¨‹è¯­è¨€åˆ†å¸ƒ",-1)),e("div",ls,[e("canvas",{ref_key:"languageChart",ref:te,class:"absolute inset-0 h-full w-full"},null,512)])])]),e("div",rs,[e("div",ns,[e("h3",is," ðŸ† "+i(U(""))+"æŽ’è¡Œæ¦œ ",1),e("div",ds,[e("button",{onClick:t[4]||(t[4]=Me(o=>J.value=!J.value,["stop"])),class:"flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50"},t[34]||(t[34]=[e("i",{class:"fas fa-cog"},null,-1),w(" åˆ—è®¾ç½® ",-1)])),J.value?(r(),l("div",us,[t[44]||(t[44]=e("div",{class:"mb-2 text-sm font-medium text-gray-900"},"æ˜¾ç¤ºåˆ—",-1)),e("div",cs,[e("label",gs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=o=>d.value.rank=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.rank]]),t[35]||(t[35]=e("span",{class:"ml-2 text-sm text-gray-700"},"æŽ’å",-1))]),e("label",fs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=o=>d.value.userName=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.userName]]),t[36]||(t[36]=e("span",{class:"ml-2 text-sm text-gray-700"},"ç”¨æˆ·å",-1))]),e("label",xs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=o=>d.value.totalEditedLines=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalEditedLines]]),t[37]||(t[37]=e("span",{class:"ml-2 text-sm text-gray-700"},"ç¼–è¾‘è¡Œæ•°",-1))]),e("label",vs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=o=>d.value.totalTestLines=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalTestLines]]),t[38]||(t[38]=e("span",{class:"ml-2 text-sm text-gray-700"},"å•æµ‹è¡Œæ•°",-1))]),e("label",ys,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=o=>d.value.totalNewFiles=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalNewFiles]]),t[39]||(t[39]=e("span",{class:"ml-2 text-sm text-gray-700"},"æ–°å»ºæ–‡ä»¶æ¬¡æ•°",-1))]),e("label",ms,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=o=>d.value.totalModifiedFiles=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalModifiedFiles]]),t[40]||(t[40]=e("span",{class:"ml-2 text-sm text-gray-700"},"ä¿®æ”¹æ–‡ä»¶æ¬¡æ•°",-1))]),e("label",ps,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=o=>d.value.totalRequests=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalRequests]]),t[41]||(t[41]=e("span",{class:"ml-2 text-sm text-gray-700"},"è¯·æ±‚æ•°",-1))]),e("label",bs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=o=>d.value.totalCost=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.totalCost]]),t[42]||(t[42]=e("span",{class:"ml-2 text-sm text-gray-700"},"è´¹ç”¨",-1))]),b.value!=="today"?(r(),l("label",hs,[C(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=o=>d.value.activeDays=o),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,d.value.activeDays]]),t[43]||(t[43]=e("span",{class:"ml-2 text-sm text-gray-700"},"æ´»è·ƒå¤©æ•°",-1))])):x("",!0)])])):x("",!0)])]),e("div",ws,[e("table",_s,[e("thead",ks,[e("tr",null,[d.value.rank?(r(),l("th",Cs," æŽ’å ")):x("",!0),d.value.userName?(r(),l("th",Ts," ç”¨æˆ·å ")):x("",!0),d.value.totalEditedLines?(r(),l("th",{key:2,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[14]||(t[14]=o=>M("totalEditedLines"))},[e("div",Ds,[t[45]||(t[45]=w(" ç¼–è¾‘è¡Œæ•° ",-1)),e("span",$s,[$.value==="totalEditedLines"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Es))])])])):x("",!0),d.value.totalTestLines?(r(),l("th",{key:3,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[15]||(t[15]=o=>M("totalTestLines"))},[e("div",js,[t[46]||(t[46]=w(" å•æµ‹è¡Œæ•° ",-1)),e("span",Ss,[$.value==="totalTestLines"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Ls))])])])):x("",!0),d.value.totalNewFiles?(r(),l("th",{key:4,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[16]||(t[16]=o=>M("totalNewFiles"))},[e("div",Fs,[t[47]||(t[47]=w(" æ–°å»ºæ–‡ä»¶æ¬¡æ•° ",-1)),e("span",Ps,[$.value==="totalNewFiles"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Is))])])])):x("",!0),d.value.totalModifiedFiles?(r(),l("th",{key:5,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[17]||(t[17]=o=>M("totalModifiedFiles"))},[e("div",Os,[t[48]||(t[48]=w(" ä¿®æ”¹æ–‡ä»¶æ¬¡æ•° ",-1)),e("span",Ns,[$.value==="totalModifiedFiles"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Ms))])])])):x("",!0),d.value.totalRequests?(r(),l("th",{key:6,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[18]||(t[18]=o=>M("totalRequests"))},[e("div",Rs,[t[49]||(t[49]=w(" è¯·æ±‚æ•° ",-1)),e("span",Us,[$.value==="totalRequests"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",As))])])])):x("",!0),d.value.totalCost?(r(),l("th",{key:7,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[19]||(t[19]=o=>M("totalCost"))},[e("div",qs,[t[50]||(t[50]=w(" è´¹ç”¨ ",-1)),e("span",zs,[$.value==="totalCost"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Vs))])])])):x("",!0),b.value!=="today"&&d.value.activeDays?(r(),l("th",{key:8,class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 hover:bg-gray-100",onClick:t[20]||(t[20]=o=>M("activeDays"))},[e("div",Bs,[t[51]||(t[51]=w(" æ´»è·ƒå¤©æ•° ",-1)),e("span",Ws,[$.value==="activeDays"?(r(),l("i",{key:0,class:m([D.value==="desc"?"fas fa-chevron-down":"fas fa-chevron-up","text-xs text-blue-500"])},null,2)):(r(),l("i",Gs))])])])):x("",!0)])]),e("tbody",Hs,[(r(!0),l(A,null,K(qe.value,(o,k)=>(r(),l("tr",{key:o.keyId},[d.value.rank?(r(),l("td",Ks,[e("span",{class:m(["inline-flex h-8 w-8 items-center justify-center rounded-full",Ee(k+(h.value-1)*L.value)])},i(k+1+(h.value-1)*L.value),3)])):x("",!0),d.value.userName?(r(),l("td",Zs,i(o.userName),1)):x("",!0),d.value.totalEditedLines?(r(),l("td",Qs,i(o.totalEditedLines),1)):x("",!0),d.value.totalTestLines?(r(),l("td",Ys,i(o.totalTestLines||0),1)):x("",!0),d.value.totalNewFiles?(r(),l("td",Js,i(o.totalNewFiles),1)):x("",!0),d.value.totalModifiedFiles?(r(),l("td",Xs,i(o.totalModifiedFiles),1)):x("",!0),d.value.totalRequests?(r(),l("td",ea,i(H(o.totalRequests||0)),1)):x("",!0),d.value.totalCost?(r(),l("td",ta," $"+i((o.totalCost||0).toFixed(4)),1)):x("",!0),b.value!=="today"&&d.value.activeDays?(r(),l("td",sa,i(o.activeDays||0)+" å¤© ",1)):x("",!0)]))),128))])])]),B.value>1||V.value>10?(r(),l("div",aa,[e("div",oa,[e("div",la,[t[53]||(t[53]=e("span",{class:"text-sm text-gray-700"},"æ¯é¡µæ˜¾ç¤º:",-1)),C(e("select",{"onUpdate:modelValue":t[21]||(t[21]=o=>L.value=o),onChange:Ke,class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},t[52]||(t[52]=[e("option",{value:10},"10 æ¡",-1),e("option",{value:20},"20 æ¡",-1),e("option",{value:100},"100 æ¡",-1)]),544),[[lt,L.value]])]),e("div",ra,[e("div",na,[e("p",ia,[t[54]||(t[54]=w(" æ˜¾ç¤º ",-1)),e("span",da,i((h.value-1)*L.value+1),1),t[55]||(t[55]=w(" åˆ° ",-1)),e("span",ua,i(Math.min(h.value*L.value,V.value)),1),t[56]||(t[56]=w(" é¡¹ï¼Œå…± ",-1)),e("span",ca,i(V.value),1),t[57]||(t[57]=w(" é¡¹ ",-1))])]),B.value>1?(r(),l("div",ga,[e("nav",fa,[e("button",{onClick:Se,disabled:!W.value,class:m(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",W.value?"hover:text-gray-500":"cursor-not-allowed"])},t[58]||(t[58]=[e("span",{class:"sr-only"},"ä¸Šä¸€é¡µ",-1),e("i",{class:"fas fa-chevron-left h-5 w-5","aria-hidden":"true"},null,-1)]),10,xa),(r(!0),l(A,null,K(Ze(),o=>(r(),l(A,{key:o},[o!=="..."?(r(),l("button",{key:0,onClick:k=>He(o),class:m(["relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",o===h.value?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900"])},i(o),11,va)):(r(),l("span",ya," ... "))],64))),128)),e("button",{onClick:Le,disabled:!G.value,class:m(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",G.value?"hover:text-gray-500":"cursor-not-allowed"])},t[59]||(t[59]=[e("span",{class:"sr-only"},"ä¸‹ä¸€é¡µ",-1),e("i",{class:"fas fa-chevron-right h-5 w-5","aria-hidden":"true"},null,-1)]),10,ma)])])):x("",!0)])]),e("div",pa,[e("button",{onClick:Se,disabled:!W.value,class:m(["relative inline-flex items-center rounded-md border px-4 py-2 text-sm font-medium",W.value?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"cursor-not-allowed border-gray-200 bg-gray-50 text-gray-400"])}," ä¸Šä¸€é¡µ ",10,ba),e("button",{onClick:Le,disabled:!G.value,class:m(["relative ml-3 inline-flex items-center rounded-md border px-4 py-2 text-sm font-medium",G.value?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"cursor-not-allowed border-gray-200 bg-gray-50 text-gray-400"])}," ä¸‹ä¸€é¡µ ",10,ha)])])):x("",!0)])])):x("",!0),T.value==="tools"?(r(),l("div",wa,[e("div",_a,[e("div",ka,[t[60]||(t[60]=e("span",{class:"text-sm font-medium text-gray-700"},"ç»Ÿè®¡æ—¶é—´æ®µï¼š",-1)),e("div",Ca,[(r(),l(A,null,K(ke,o=>e("button",{key:o.value,onClick:k=>Ve(o.value),class:m(["px-3 py-1.5 text-sm font-medium transition-all duration-200 first:rounded-l-lg last:rounded-r-lg",N.value===o.value?"bg-blue-500 text-white shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},i(o.label),11,Ta)),64))])])]),e("div",Da,[pe(be,{color:"bg-indigo-500",icon:"ðŸ”§",title:$e("å·¥å…·è°ƒç”¨"),value:((v=E.value)==null?void 0:v.periodToolCalls)||0},null,8,["title","value"]),pe(be,{color:"bg-teal-500",icon:"âš™ï¸",title:"å·¥å…·ç§ç±»",value:Object.keys(((_=E.value)==null?void 0:_.tools)||{}).filter(o=>o!=="Unknown"&&o!=="undefined").length},null,8,["value"]),pe(be,{color:"bg-pink-500",icon:"ðŸ†",title:"æœ€å¸¸ç”¨å·¥å…·",value:Qe()},null,8,["value"])]),e("div",$a,[e("div",Ea,[t[61]||(t[61]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"ðŸ“ˆ å·¥å…·è°ƒç”¨è¶‹åŠ¿",-1)),e("div",ja,[e("canvas",{ref_key:"toolTrendChart",ref:se,class:"absolute inset-0 h-full w-full"},null,512)])]),e("div",Sa,[t[62]||(t[62]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"ðŸ”§ å·¥å…·ä½¿ç”¨åˆ†å¸ƒ",-1)),e("div",La,[e("canvas",{ref_key:"toolDistributionChart",ref:ae,class:"absolute inset-0 h-full w-full"},null,512)])])]),e("div",Fa,[e("h3",Pa," ðŸ† "+i($e(""))+"å·¥å…·ä½¿ç”¨æŽ’è¡Œæ¦œ (Top 10) ",1),e("div",Ia,[e("table",Oa,[t[63]||(t[63]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," æŽ’å "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," å·¥å…·åç§° "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," æ€»è°ƒç”¨æ•° "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," ä½¿ç”¨ç”¨æˆ·æ•° ")])],-1)),e("tbody",Na,[(r(!0),l(A,null,K(we.value,(o,k)=>(r(),l("tr",{key:o.tool},[e("td",Ma,[e("span",{class:m(["inline-flex h-8 w-8 items-center justify-center rounded-full",Ee(k)])},i(k+1),3)]),e("td",Ra,[e("span",Ua,i(Ye(o.tool))+" "+i(o.tool),1)]),e("td",Aa,i(o.totalCount),1),e("td",qa,i(o.totalUsers),1)]))),128))])])])])])):x("",!0)])])}}},Ka=Ue(za,[["__scopeId","data-v-d9fb2bdf"]]);export{Ka as default};
